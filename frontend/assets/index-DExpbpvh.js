import{j as s,c as d,I as n,P as c,r as j,u as N,a as y,b as p,d as I}from"./index-CPhqTQkv.js";import{B as L}from"./index-B9X22XDe.js";import"./index-CZ3MnVdW.js";const v=({blogHero1:a,blogHero2:o,blogHero3:l,blogHero4:r})=>s.jsxs("div",{className:"my-[20px] border-b-2 py-[30px] mobile:my-[30px]",children:[s.jsx("h2",{className:"font-semibold text-h2 text-black-100 dark:text-white",children:"Recent blog posts"}),s.jsxs("div",{className:d("mb-[30px] mt-[32px] flex flex-col gap-default","tablet:grid tablet:grid-cols-2"),children:[s.jsx("div",{className:"",children:s.jsx(n,{basePath:c.BLOG.INDEX,...a,textclamps:3,imgClasses:"max-h-[240px]"})}),s.jsxs("div",{className:d("flex flex-col gap-default"),children:[s.jsx(n,{basePath:c.BLOG.INDEX,...o,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"}),s.jsx(n,{basePath:c.BLOG.INDEX,...l,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"})]})]}),s.jsx("div",{children:s.jsx(n,{basePath:c.BLOG.INDEX,...r,imgClasses:"max-h-[246px]",horizontal:!0,articleStyleClasses:"flex-col"})})]});function B(){var x;const[a,o]=j.useState(1),{blogs:l}=N(e=>e.blogReducers),{data:r,isPending:m}=y({queryKey:["blogDefault",a],queryFn:()=>I.getBlogs(`/?limit=${p}&page=${a}&hidden=false&position=default`)}),h=((x=r==null?void 0:r.data)==null?void 0:x.data)||[],t=l==null?void 0:l.filter(e=>!e.hidden),g=t==null?void 0:t.find(e=>e.position==="hero"),u=t==null?void 0:t.find(e=>e.position==="hero2"),b=t==null?void 0:t.find(e=>e.position==="hero3"),f=t==null?void 0:t.find(e=>e.position==="hero4"),i=t==null?void 0:t.filter(e=>e.position==="default"),P=Math.ceil((i==null?void 0:i.length)/p)||0;return{heroProps:{blogHero1:g,blogHero2:u,blogHero3:b,blogHero4:f},blogListProps:{blogsDefault:i,totalPage:P,handlePagination:e=>{o(e)},currentPage:a,handlePrev:()=>{o(e=>e-1)},handleNext:()=>{o(e=>e+1)},blogsAll:h,blogsAllLoading:m}}}const z=()=>{const{heroProps:a,blogListProps:o}=B();return s.jsxs("div",{className:"mt-[20px] mobile:mt-[30px] tablet:mt-[50px] *:dark:text-white",children:[s.jsx("h1",{className:"text-nowrap border-b-2 border-t-2 text-center font-bold text-h1-lg uppercase text-black-100",children:"the blog"}),s.jsx(v,{...a}),s.jsx(L,{...o})]})};export{z as default};
