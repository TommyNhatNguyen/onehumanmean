import{j as s,c as d,P as n,b as y,r as m,g as B,d as I,e as L}from"./index-DR8RArQ-.js";import{I as c}from"./index-bU8qKxQZ.js";import{P as h,B as v}from"./index-CNTsIr_C.js";import{u as C}from"./useQuery-Dhb1lrI3.js";import"./moment-C5S46NFB.js";import"./index-CNalpKRC.js";import"./bundle-mjs-BOZU2X2x.js";import"./index-BvrgXu_9.js";import"./useLocale-tDC-J30A.js";import"./index-CwgwXt2h.js";const A=({blogHero1:o,blogHero2:a,blogHero3:r,blogHero4:l})=>s.jsxs("div",{className:"my-[20px] border-b-2 py-[30px] mobile:my-[30px]",children:[s.jsx("h2",{className:"font-semibold text-h2 text-black-100 dark:text-white",children:"Recent blog posts"}),s.jsxs("div",{className:d("mb-[30px] mt-[32px] flex flex-col gap-default","tablet:grid tablet:grid-cols-2"),children:[s.jsx("div",{className:"",children:s.jsx(c,{basePath:n.BLOG.INDEX,...o,textclamps:3,imgClasses:"max-h-[240px]"})}),s.jsxs("div",{className:d("flex flex-col gap-default"),children:[s.jsx(c,{basePath:n.BLOG.INDEX,...a,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"}),s.jsx(c,{basePath:n.BLOG.INDEX,...r,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"})]})]}),s.jsx("div",{children:s.jsx(c,{basePath:n.BLOG.INDEX,...l,imgClasses:"max-h-[246px]",horizontal:!0,articleStyleClasses:"flex-col"})})]});function E(){var p;const o=y();m.useEffect(()=>{o(B())},[]);const[a,r]=m.useState(1),{blogs:l}=I(e=>e.blogReducers),{data:x,isPending:g}=C({queryKey:["blogDefault",a],queryFn:()=>L.getBlogs(`/?limit=${h}&page=${a}&hidden=false&position=default`)}),f=((p=x==null?void 0:x.data)==null?void 0:p.data)||[],t=l==null?void 0:l.filter(e=>!e.hidden),u=t==null?void 0:t.find(e=>e.position==="hero"),P=t==null?void 0:t.find(e=>e.position==="hero2"),b=t==null?void 0:t.find(e=>e.position==="hero3"),j=t==null?void 0:t.find(e=>e.position==="hero4"),i=t==null?void 0:t.filter(e=>e.position==="default"),N=Math.ceil((i==null?void 0:i.length)/h)||0;return{heroProps:{blogHero1:u,blogHero2:P,blogHero3:b,blogHero4:j},blogListProps:{blogsDefault:i,totalPage:N,handlePagination:e=>{r(e)},currentPage:a,handlePrev:()=>{r(e=>e-1)},handleNext:()=>{r(e=>e+1)},blogsAll:f,blogsAllLoading:g}}}const _=()=>{const{heroProps:o,blogListProps:a}=E();return s.jsxs("div",{className:"mt-[20px] mobile:mt-[30px] tablet:mt-[50px] *:dark:text-white",children:[s.jsx("h1",{className:"text-nowrap border-b-2 border-t-2 text-center font-bold text-h1-lg uppercase text-black-100",children:"the blog"}),s.jsx(A,{...o}),s.jsx(v,{...a})]})};export{_ as default};
