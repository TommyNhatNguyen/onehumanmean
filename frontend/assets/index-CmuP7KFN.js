import{j as t,S as N,c as p,I as n,P as c,r as v,u as y,a as I,b as m,d as L}from"./index-CkQ2Pt_J.js";import{B}from"./index-Cryvff0D.js";import"./index-BctwzQmQ.js";const C=({blogHero1:a,blogHero2:l,blogHero3:o,blogHero4:x,loading:r})=>t.jsxs("div",{className:"relative my-[20px] min-h-[823px] border-b-2 py-[30px] mobile:my-[30px]",children:[t.jsx("h2",{className:"relative z-20 font-semibold text-h2 text-black-100 dark:text-white",children:"Recent blog posts"}),r?t.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-white dark:bg-black-200",children:t.jsx(N,{className:"z-10",size:"large"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:p("mb-[30px] mt-[32px] flex flex-col gap-default","tablet:grid tablet:grid-cols-2"),children:[t.jsx("div",{className:"",children:t.jsx(n,{basePath:c.BLOG.INDEX,...a,textclamps:3,imgClasses:"max-h-[240px]"})}),t.jsxs("div",{className:p("flex flex-col gap-default"),children:[t.jsx(n,{basePath:c.BLOG.INDEX,...l,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"}),t.jsx(n,{basePath:c.BLOG.INDEX,...o,horizontal:!0,textclamps:3,imgClasses:"max-h-[220px]",articleStyleClasses:"mobile:flex-row"})]})]}),t.jsx("div",{children:t.jsx(n,{basePath:c.BLOG.INDEX,...x,imgClasses:"max-h-[246px]",horizontal:!0,textclamps:3,articleStyleClasses:"flex-col"})})]})]});function z(){var d;const[a,l]=v.useState(1),{blogs:o,loading:x}=y(e=>e.blogReducers),{data:r,isPending:h}=I({queryKey:["blogDefault",a],queryFn:()=>L.getBlogs(`/?limit=${m}&page=${a}&hidden=false&position=default`)}),g=((d=r==null?void 0:r.data)==null?void 0:d.data)||[],s=o==null?void 0:o.filter(e=>!e.hidden),f=s==null?void 0:s.find(e=>e.position==="hero"),u=s==null?void 0:s.find(e=>e.position==="hero2"),b=s==null?void 0:s.find(e=>e.position==="hero3"),P=s==null?void 0:s.find(e=>e.position==="hero4"),i=s==null?void 0:s.filter(e=>e.position==="default"),j=Math.ceil((i==null?void 0:i.length)/m)||0;return{heroProps:{blogHero1:f,blogHero2:u,blogHero3:b,blogHero4:P,loading:x},blogListProps:{blogsDefault:i,totalPage:j,handlePagination:e=>{l(e)},currentPage:a,handlePrev:()=>{l(e=>e-1)},handleNext:()=>{l(e=>e+1)},blogsAll:g,blogsAllLoading:h}}}const R=()=>{const{heroProps:a,blogListProps:l}=z();return t.jsxs("div",{className:"mt-[20px] mobile:mt-[30px] tablet:mt-[50px] *:dark:text-white",children:[t.jsx("h1",{className:"text-nowrap border-b-2 border-t-2 text-center font-bold text-h1-lg uppercase text-black-100",children:"the blog"}),t.jsx(C,{...a}),t.jsx(B,{...l})]})};export{R as default};
